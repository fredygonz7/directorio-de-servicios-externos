(this["webpackJsonpdirectorio-de-servicios-externos"]=this["webpackJsonpdirectorio-de-servicios-externos"]||[]).push([[0],{36:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var o=c(1),n=c(28),i=c.n(n),r=(c(36),c(13)),a=c(2),s=c(9),l=c(0),j=function(){return Object(l.jsx)("div",{className:"alert alert-info",children:Object(l.jsx)("p",{children:"Cargando..."})})},b=c(8),d=c(16),h=c.n(d),m=c(29),u=c(30),p=c.n(u).a.create({baseURL:"https://prueba.nualtec.com/api/api/v1/"}),O=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/directorioServicio");case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.useState)(!0),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(o.useState)([]),r=Object(s.a)(i,2),a=r[0],b=r[1];Object(o.useEffect)((function(){O().then((function(e){n(!1),b(e)}))}),[]);var d=function(e){window.confirm("Realmente desea eliminar el registro")&&(n(!0),function(e){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-type":"application/json; charset=UTF-8"}};return p.delete("/directorioServicio/".concat(e),t)}(e).then((function(e){console.log("Eliminado",e.data),O().then((function(e){n(!1),b(e)}))})).catch((function(e){console.log(e)})))};return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Lista de lugares"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{style:{width:150},children:"Nombre"}),Object(l.jsx)("th",{style:{width:150},children:"PaginaWeb"}),Object(l.jsx)("th",{style:{width:150},children:"CorreoElectronico"}),Object(l.jsx)("th",{style:{width:150},children:"Opciones"})]})}),Object(l.jsx)("tbody",{children:a.map((function(e){var t=e.id,c=e.NombreServicio,o=e.PaginaWeb,n=e.CorreoElectronico;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:c}),Object(l.jsx)("td",{children:o}),Object(l.jsx)("td",{children:n}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{type:"button",onClick:d.bind(undefined,t),className:"btn btn-primary",children:"Eliminar"})})]},t)}))})]}),c&&Object(l.jsx)(j,{})]})},g=c(12),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(o.useState)(e),c=Object(s.a)(t,2),n=c[0],i=c[1],r=function(){i(e)},a=function(e){var t=e.target;"checkbox"!==t.type?i(Object(b.a)(Object(b.a)({},n),{},Object(g.a)({},t.name,t.value))):i(Object(b.a)(Object(b.a)({},n),{},Object(g.a)({},t.name,t.checked)))};return[n,a,r]},f=function(){var e=v({NombreServicio:"Abastos El Ajonjoli",TipoServicio:"tienda",ServicioDomicilio:!1,HorarioAtencion:"7am - 7pm ",PaginaWeb:"http://www.ajonjoli.com",CorreoElectronico:"ajonjoli.sincelejo@gmail.com",CorreoElectronico_confirmation:"ajonjoli.sincelejo@gmail.com"}),t=Object(s.a)(e,3),c=t[0],o=t[1],n=t[2],i=c.NombreServicio,r=c.TipoServicio,a=c.ServicioDomicilio,j=c.HorarioAtencion,d=c.PaginaWeb,h=c.CorreoElectronico,m=c.CorreoElectronico_confirmation;return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)("h1",{children:"Directorio"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(c),function(e){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};return p.post("/directorioServicio",Object(b.a)({},e),t)}(c).then((function(e){console.log(e.data.message,e),n()})).catch((function(e){console.log("Error",e)}))},children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"text",placeholder:"NombreServicio",className:"form-control",name:"NombreServicio",value:i,onChange:o})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsxs)("select",{className:"form-select",name:"TipoServicio",value:r,onChange:o,children:[Object(l.jsx)("option",{children:"Seleccione un tipo de servicio"}),Object(l.jsx)("option",{value:"drogueria",children:"Drogueria"}),Object(l.jsx)("option",{value:"tienda",children:"Tienda"}),Object(l.jsx)("option",{value:"otro",children:"Otro"})]})}),Object(l.jsxs)("div",{className:"form-check mb-3",children:[Object(l.jsx)("input",{className:"form-check-input",type:"checkbox",name:"ServicioDomicilio",checked:a,onChange:o}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckServicioDomicilio",children:"ServicioDomicilio"})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"text",placeholder:"HorarioAtencion",className:"form-control",name:"HorarioAtencion",value:j,onChange:o})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"text",placeholder:"PaginaWeb",className:"form-control",name:"PaginaWeb",value:d,onChange:o})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"email",placeholder:"CorreoElectronico",className:"form-control",name:"CorreoElectronico",value:h,onChange:o})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"email",placeholder:"CorreoElectronico_confirmation",className:"form-control",name:"CorreoElectronico_confirmation",value:m,onChange:o})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Enviar"})})]})]})})},N=c.p+"static/media/logo.6ce24c58.svg",S=function(){var e=Object(a.g)(),t=v({email:"joelpahe18@gmail.com",password:"password"}),c=Object(s.a)(t,2),o=c[0],n=c[1],i=o.email,r=o.password;return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)("img",{src:N,className:"App-logo",alt:"logo"}),Object(l.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),(c=o,p.post("/auth/login",Object(b.a)({},c))).then((function(t){localStorage.setItem("token",t.data.access_token),e.push("/directorio")})).catch((function(e){console.log(e)}))},children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"text",placeholder:"Email",autoComplete:"off",className:"form-control",name:"email",value:i,onChange:n})}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",className:"form-control",name:"password",value:r,onChange:n})}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Ingresar"})]})]})})},C=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Login"}),Object(l.jsxs)("form",{children:[Object(l.jsx)("button",{type:"submit",children:"Ingresar"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"google-btn",children:[Object(l.jsx)("div",{className:"google-icon-wrapper",children:Object(l.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(l.jsx)("p",{className:"btn-text",children:Object(l.jsx)("b",{children:"Sign in with google"})})]})]})]})},y=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)(a.d,{children:[Object(l.jsx)(a.b,{exact:!0,path:"/auth/login",component:S}),Object(l.jsx)(a.b,{exact:!0,path:"/auth/register",component:C}),Object(l.jsx)(a.a,{to:"/auth/login"})]})})},w=function(){return Object(l.jsx)(r.a,{children:Object(l.jsx)("div",{children:Object(l.jsxs)(a.d,{children:[Object(l.jsx)(a.b,{exact:!0,path:"/",component:S}),Object(l.jsx)(a.b,{exact:!0,path:"/directorio",component:x}),Object(l.jsx)(a.b,{exact:!0,path:"/directorio/registrar",component:f}),Object(l.jsx)(a.b,{path:"/auth",component:y}),Object(l.jsx)(a.a,{to:"/auth/login"})]})})})},k=function(){return Object(l.jsx)(w,{})};i.a.render(Object(l.jsx)(k,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.41cf4f87.chunk.js.map